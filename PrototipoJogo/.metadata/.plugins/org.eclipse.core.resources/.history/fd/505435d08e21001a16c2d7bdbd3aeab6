package controller;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import model.Questao;
import view.Avisos;
import view.FramePrincipal;
import view.FrameQuestoes;
import view.PanelFases;
import view.PanelPrincipal;
import view.PanelQuestoes;

public class ControllerTelaQuestoes {
	
	private FramePrincipal framePrincipal;
	private PanelFases panelFases;
	private FrameQuestoes frameQuestoes;
	private PanelQuestoes panelQuestoes;
	
	private Questao questao;
	private int pontuacao = 0;
	
	public ControllerTelaQuestoes(FramePrincipal framePrincipal, FrameQuestoes frameQuestoes, Questao questao) {
		this.framePrincipal = framePrincipal;
		this.panelFases = framePrincipal.getPanelFase();
		this.frameQuestoes = frameQuestoes;
		this.panelQuestoes = frameQuestoes.getPanelQuestao();
		this.questao = questao;
		
		control();
	}
	
	public void control() {
		panelQuestoes.getBtResponder().addActionListener(new ActionListener() {
			@Override
			public void actionPerformed(ActionEvent e) {
				if(panelQuestoes.getRdbtOpUm().isSelected()) {
					if(panelQuestoes.getRdbtOpUm().getText().equals(questao.getRespostaCerta())) {
						Avisos.mensagemRespostaCerta();
						pontuacao += 10;
					}else {
						Avisos.mensagemRespostaErrada();
					}
						
				}else if(panelQuestoes.getRdbtOpDois().isSelected()) {
					if(panelQuestoes.getRdbtOpDois().getText().equals(questao.getRespostaCerta())) {
						Avisos.mensagemRespostaCerta();
						pontuacao += 10;
					}else {
						Avisos.mensagemRespostaErrada();
					}
						
				}else if(panelQuestoes.getRdbtOpTres().isSelected()) {
					if(panelQuestoes.getRdbtOpTres().getText().equals(questao.getRespostaCerta())) {
						Avisos.mensagemRespostaCerta();
						pontuacao += 10;
					}else {
						Avisos.mensagemRespostaErrada();
					}
						
				}else {
					Avisos.mensagemNadaSelecionado();
				}
				
				panelFases.getTxaPontuacao().setText(""+pontuacao);
				panelQuestoes.getRdbtOpUm().setSelected(false);
				panelQuestoes.getRdbtOpDois().setSelected(false);
				panelQuestoes.getRdbtOpTres().setSelected(false);
				frameQuestoes.setVisible(false);
				//panelQuestoes.setarDefault();
			}
		});
	}
	
	

}
